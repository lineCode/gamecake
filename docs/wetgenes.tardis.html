<html>
	<head>
		<link rel="shortcut icon" href="data/gcdoc.png" />
		<link rel='stylesheet' href='data/dox.css' />
		<script src="data/jquery.min.js"></script>
		<script src="data/dox.js"></script>
		<script	src="data/google-code-prettify/prettify.js" ></script>
		<script	src="data/google-code-prettify/lang-lua.js" ></script>
		<link rel="stylesheet" type="text/css" href="data/google-code-prettify/skins/sons-of-obsidian.css" />
		<script>
			$(function(){
				$("code").addClass("prettyprint").addClass("lang-lua");
				PR.prettyPrint();
			});
		</script>
	</head>
	<body>
		<div class="content">
<div class="crumbs_wrap"><div class="crumbs"><a href="index.html">home</a> &gt; </div><div class="crumbs"><a href="wetgenes.html">wetgenes</a> &gt; </div></div>
<h1><a href="wetgenes.tardis.html">wetgenes.tardis</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L26">lua/wetgenes/tardis.lua#26</a>

<div>

<p>Time And Relative Dimensions In Space is of course the perfect name for 
a library of matrix based math functions.</p>

<pre><code>local tardis=require("wetgenes.tardis")
</code></pre>

<p>This tardis is a lua library for manipulating time and space with 
numbers. Designed to work as pure lua but with a faster, but less 
accurate, f32 core by default.</p>

<p>Recoil in terror as we use two glyph names for classes whilst typing in 
random strings of numbers and operators that may or may not contain 
tyops.</p>

<pre><code>v# vector [#]
m# matrix [#][#]
q4 quaternion
</code></pre>

<p>Each class is a table of # values [1] to [#] the 2d number streams are 
formatted the same as opengl (row-major) and metatables are used to 
provide methods.</p>

<p>The easy way of remembering the opengl 4x4 matrix layout is that the
translate x,y,z values sit at 13,14,15 and 4,8,12,16 is normally set
to the constant 0,0,0,1 for most transforms.</p>

<pre><code>     | 1  5  9  13 |
     | 2  6  10 14 |
m4 = | 3  7  11 15 |
     | 4  8  12 16 |
</code></pre>

<p>The Lua code is normally replaced with a hopefully faster f32 based C 
version, Use DISABLE<em>WETGENES</em>TARDIS_CORE before requiring this file to 
turn it off and get a pure lua library.</p>

<p>This seems to be the simplest (programmer orientated) description of 
most of the maths used here so go read it if you want to know what the 
funny words mean.</p>

<p>http://www.j3d.org/matrix<em>faq/matrfaq</em>latest.html</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.array.html">wetgenes.tardis.array</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L112">lua/wetgenes/tardis.lua#112</a>

<div>


<p>Array is the base class for all other tardis classes, it is just a 
stream of numbers, probably in a table but possibly a chunk of f32 
values in a userdata.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.array.__tostring.html">wetgenes.tardis.array.__tostring</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L122">lua/wetgenes/tardis.lua#122</a>

<div>

<pre><code>string = array.__tostring(it)
</code></pre>

<p>Convert an array to a string this is called by the lua tostring() function,</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.array.product.html">wetgenes.tardis.array.product</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L163">lua/wetgenes/tardis.lua#163</a>

<div>

<pre><code>ma = ma:product(mb)
ma = ma:product(mb,r)
</code></pre>

<p>Look at the type and call the appropriate product function, to produce </p>

<pre><code>mb x ma
</code></pre>

<p>Note the right to left application and default returning of the 
leftmost term for chaining. This seems to make the most sense.</p>

<p>If r is provided then the result is written into r and returned 
otherwise ma is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.array.set.html">wetgenes.tardis.array.set</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L141">lua/wetgenes/tardis.lua#141</a>

<div>

<p>Convert an array to a string for debug printing,</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.class.html">wetgenes.tardis.class</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L82">lua/wetgenes/tardis.lua#82</a>

<div>

<pre><code>metatable=tardis.class(name,class,...)
</code></pre>

<p>Create a new metatable for an object class, optionally inheriting from other previously 
declared classes.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.line.html">wetgenes.tardis.line</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1437">lua/wetgenes/tardis.lua#1437</a>

<div>

<p>A 3d space line class.</p>

<p>[1]position , [2]normal</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.line.new.html">wetgenes.tardis.line.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1449">lua/wetgenes/tardis.lua#1449</a>

<div>

<pre><code>line = tardis.line.new(p,n)
</code></pre>

<p>Create a new line and optionally set it to the given values.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.html">wetgenes.tardis.m2</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L194">lua/wetgenes/tardis.lua#194</a>

<div>

<p>The metatable for a 2x2 matrix class, use the new function to actually create an object.</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.adjugate.html">wetgenes.tardis.m2.adjugate</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L304">lua/wetgenes/tardis.lua#304</a>

<div>

<pre><code>m2 = m2:adjugate()
m2 = m2:adjugate(r)
</code></pre>

<p>Adjugate this m2.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.cofactor.html">wetgenes.tardis.m2.cofactor</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L279">lua/wetgenes/tardis.lua#279</a>

<div>

<pre><code>m2 = m2:cofactor()
m2 = m2:cofactor(r)
</code></pre>

<p>Cofactor this m2.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.determinant.html">wetgenes.tardis.m2.determinant</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L222">lua/wetgenes/tardis.lua#222</a>

<div>

<pre><code>value = m2:determinant()
</code></pre>

<p>Return the determinant value of this m2.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.identity.html">wetgenes.tardis.m2.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L213">lua/wetgenes/tardis.lua#213</a>

<div>

<pre><code>m2 = m2:identity()
</code></pre>

<p>Set this m2 to the identity matrix.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.inverse.html">wetgenes.tardis.m2.inverse</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L320">lua/wetgenes/tardis.lua#320</a>

<div>

<pre><code>m2 = m2:inverse()
m2 = m2:inverse(r)
</code></pre>

<p>Inverse this m2.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.minor_xy.html">wetgenes.tardis.m2.minor_xy</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L236">lua/wetgenes/tardis.lua#236</a>

<div>

<pre><code>value = m2:minor_xy()
</code></pre>

<p>Return the minor_xy value of this m2.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.new.html">wetgenes.tardis.m2.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L203">lua/wetgenes/tardis.lua#203</a>

<div>

<pre><code>m2 = tardis.m2.new()
</code></pre>

<p>Create a new m2 and optionally set it to the given values, m2 methods 
usually return the input m2 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.scale.html">wetgenes.tardis.m2.scale</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L263">lua/wetgenes/tardis.lua#263</a>

<div>

<pre><code>m2 = m2:scale(s)
m2 = m2:scale(s,r)
</code></pre>

<p>Scale this m2 by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m2.transpose.html">wetgenes.tardis.m2.transpose</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L247">lua/wetgenes/tardis.lua#247</a>

<div>

<pre><code>m2 = m2:transpose()
m2 = m2:transpose(r)
</code></pre>

<p>Transpose this m2.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.html">wetgenes.tardis.m3</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L339">lua/wetgenes/tardis.lua#339</a>

<div>

<p>The metatable for a 3x3 matrix class, use the new function to actually 
create an object.</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.adjugate.html">wetgenes.tardis.m3.adjugate</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L460">lua/wetgenes/tardis.lua#460</a>

<div>

<pre><code>m3 = m3:adjugate()
m3 = m3:adjugate(r)
</code></pre>

<p>Adjugate this m3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.cofactor.html">wetgenes.tardis.m3.cofactor</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L435">lua/wetgenes/tardis.lua#435</a>

<div>

<pre><code>m3 = m3:cofactor()
m3 = m3:cofactor(r)
</code></pre>

<p>Cofactor this m3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.determinant.html">wetgenes.tardis.m3.determinant</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L368">lua/wetgenes/tardis.lua#368</a>

<div>

<pre><code>value = m3:determinant()
</code></pre>

<p>Return the determinant value of this m3.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.identity.html">wetgenes.tardis.m3.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L359">lua/wetgenes/tardis.lua#359</a>

<div>

<pre><code>m3 = m3:identity()
</code></pre>

<p>Set this m3 to the identity matrix.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.inverse.html">wetgenes.tardis.m3.inverse</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L476">lua/wetgenes/tardis.lua#476</a>

<div>

<pre><code>m3 = m3:inverse()
m3 = m3:inverse(r)
</code></pre>

<p>Inverse this m3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.minor_xy.html">wetgenes.tardis.m3.minor_xy</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L384">lua/wetgenes/tardis.lua#384</a>

<div>

<pre><code>value = m3:minor_xy()
</code></pre>

<p>Return the minor_xy value of this m3.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.new.html">wetgenes.tardis.m3.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L349">lua/wetgenes/tardis.lua#349</a>

<div>

<pre><code>m3 = tardis.m3.new()
</code></pre>

<p>Create a new m3 and optionally set it to the given values, m3 methods 
usually return the input m3 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.scale.html">wetgenes.tardis.m3.scale</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L419">lua/wetgenes/tardis.lua#419</a>

<div>

<pre><code>m3 = m3:scale(s)
m3 = m3:scale(s,r)
</code></pre>

<p>Scale this m3 by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m3.transpose.html">wetgenes.tardis.m3.transpose</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L403">lua/wetgenes/tardis.lua#403</a>

<div>

<pre><code>m3 = m3:transpose()
m3 = m3:transpose(r)
</code></pre>

<p>Transpose this m3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.html">wetgenes.tardis.m4</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L493">lua/wetgenes/tardis.lua#493</a>

<div>

<p>The metatable for a 4x4 matrix class, use the new function to actually 
create an object.</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.add.html">wetgenes.tardis.m4.add</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L599">lua/wetgenes/tardis.lua#599</a>

<div>

<pre><code>m4 = m4:add(m4b)
m4 = m4:add(m4b,r)
</code></pre>

<p>Add m4b this m4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.adjugate.html">wetgenes.tardis.m4.adjugate</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L684">lua/wetgenes/tardis.lua#684</a>

<div>

<pre><code>m4 = m4:adjugate()
m4 = m4:adjugate(r)
</code></pre>

<p>Adjugate this m4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.cofactor.html">wetgenes.tardis.m4.cofactor</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L659">lua/wetgenes/tardis.lua#659</a>

<div>

<pre><code>m4 = m4:cofactor()
m4 = m4:cofactor(r)
</code></pre>

<p>Cofactor this m4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.determinant.html">wetgenes.tardis.m4.determinant</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L522">lua/wetgenes/tardis.lua#522</a>

<div>

<pre><code>value = m4:determinant()
</code></pre>

<p>Return the determinant value of this m4.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.identity.html">wetgenes.tardis.m4.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L513">lua/wetgenes/tardis.lua#513</a>

<div>

<pre><code>m4 = m4:identity()
</code></pre>

<p>Set this m4 to the identity matrix.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.inverse.html">wetgenes.tardis.m4.inverse</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L700">lua/wetgenes/tardis.lua#700</a>

<div>

<pre><code>m4 = m4:inverse()
m4 = m4:inverse(r)
</code></pre>

<p>Inverse this m4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.lerp.html">wetgenes.tardis.m4.lerp</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L639">lua/wetgenes/tardis.lua#639</a>

<div>

<pre><code>m4 = m4:lerp(m4b,s)
m4 = m4:lerp(m4b,s,r)
</code></pre>

<p>Lerp from m4 to m4b by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.minor_xy.html">wetgenes.tardis.m4.minor_xy</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L544">lua/wetgenes/tardis.lua#544</a>

<div>

<pre><code>value = m4:minor_xy()
</code></pre>

<p>Return the minor_xy value of this m4.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.new.html">wetgenes.tardis.m4.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L503">lua/wetgenes/tardis.lua#503</a>

<div>

<pre><code>m4 = tardis.m4.new()
</code></pre>

<p>Create a new m4 and optionally set it to the given values, m4 methods 
usually return the input m4 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.rotate.html">wetgenes.tardis.m4.rotate</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L823">lua/wetgenes/tardis.lua#823</a>

<div>

<pre><code>m4 = m4:rotate(degrees,v3a)
m4 = m4:rotate(degrees,v3a,r)
</code></pre>

<p>Apply a rotation to this matrix.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.scale.html">wetgenes.tardis.m4.scale</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L579">lua/wetgenes/tardis.lua#579</a>

<div>

<pre><code>m4 = m4:scale(s)
m4 = m4:scale(s,r)
</code></pre>

<p>Scale this m4 by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.scale_v3.html">wetgenes.tardis.m4.scale_v3</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L767">lua/wetgenes/tardis.lua#767</a>

<div>

<pre><code>m4 = m4:scale_v3(x,y,z)
m4 = m4:scale_v3(x,y,z,r)
m4 = m4:scale_v3(v3)
m4 = m4:scale_v3(v3,r)
</code></pre>

<p>Scale this m4 by {x,y,z} or v3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


<pre><code>v3 = m4:scale_v3(x,y,z)
v3 = m4:scale_v3(x,y,z,r)
v3 = m4:scale_v3(v3)
v3 = m4:scale_v3(v3,r)
</code></pre>

<p>Get v3 scale from a scale/rot/trans matrix</p>

<p>If r is provided then the result is written into r and returned 
otherwise a new v3 is created and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.setrot.html">wetgenes.tardis.m4.setrot</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L789">lua/wetgenes/tardis.lua#789</a>

<div>

<pre><code>m4 = m4:setrot(degrees,v3a)
</code></pre>

<p>Set this matrix to a rotation matrix around the given normal.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.sub.html">wetgenes.tardis.m4.sub</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L619">lua/wetgenes/tardis.lua#619</a>

<div>

<pre><code>m4 = m4:sub(m4b)
m4 = m4:sub(m4b,r)
</code></pre>

<p>Subtract m4b this m4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.translate.html">wetgenes.tardis.m4.translate</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L717">lua/wetgenes/tardis.lua#717</a>

<div>

<pre><code>m4 = m4:translate(x,y,z)
m4 = m4:translate(x,y,z,r)
m4 = m4:translate(v3)
m4 = m4:translate(v3,r)
</code></pre>

<p>Translate this m4 along its local axis by {x,y,z} or v3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.m4.transpose.html">wetgenes.tardis.m4.transpose</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L563">lua/wetgenes/tardis.lua#563</a>

<div>

<pre><code>m4 = m4:transpose()
m4 = m4:transpose(r)
</code></pre>

<p>Transpose this m4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise m4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.plane.html">wetgenes.tardis.plane</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1458">lua/wetgenes/tardis.lua#1458</a>

<div>

<p>A 3d space plane class.</p>

<p>[1]position , [2]normal</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.plane.new.html">wetgenes.tardis.plane.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1470">lua/wetgenes/tardis.lua#1470</a>

<div>

<pre><code>plane = tardis.plane.new(p,n)
</code></pre>

<p>Create a new plane and optionally set it to the given values.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.q4.html">wetgenes.tardis.q4</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1359">lua/wetgenes/tardis.lua#1359</a>

<div>

<p>The metatable for a quaternion class, use the new function to actually create an object.</p>

<p>We also inherit all the functions from tardis.v4</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.q4.identity.html">wetgenes.tardis.q4.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1378">lua/wetgenes/tardis.lua#1378</a>

<div>

<pre><code>q4 = q4:identity()
</code></pre>

<p>Set this q4 to its 0,0,0,1 identity</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.q4.lerp.html">wetgenes.tardis.q4.lerp</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1387">lua/wetgenes/tardis.lua#1387</a>

<div>

<pre><code>q4 = q4:lerp(q4b,s)
q4 = q4:lerp(q4b,s,r)
</code></pre>

<p>Nlerp from q4 to q4b by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise q4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.q4.new.html">wetgenes.tardis.q4.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1368">lua/wetgenes/tardis.lua#1368</a>

<div>

<pre><code>q4 = tardis.q4.new()
</code></pre>

<p>Create a new q4 and optionally set it to the given values, q4 methods 
usually return the input q4 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.q4.rotate.html">wetgenes.tardis.q4.rotate</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1419">lua/wetgenes/tardis.lua#1419</a>

<div>

<pre><code>q4 = q4:rotate(degrees,v3a)
q4 = q4:rotate(degrees,v3a,r)
</code></pre>

<p>Apply a rotation to this quaternion.</p>

<p>If r is provided then the result is written into r and returned 
otherwise q4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.q4.setrot.html">wetgenes.tardis.q4.setrot</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1406">lua/wetgenes/tardis.lua#1406</a>

<div>

<pre><code>q4 = q4:setrot(degrees,v3a)
</code></pre>

<p>Set this matrix to a rotation matrix around the given normal.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.type.html">wetgenes.tardis.type</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L73">lua/wetgenes/tardis.lua#73</a>

<div>

<pre><code>name=tardis.type(object)
</code></pre>

<p>This will return the type of an object previously registered with class</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.html">wetgenes.tardis.v2</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L839">lua/wetgenes/tardis.lua#839</a>

<div>

<p>The metatable for a 2d vector class, use the new function to actually 
create an object.</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.add.html">wetgenes.tardis.v2.add</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L938">lua/wetgenes/tardis.lua#938</a>

<div>

<pre><code>v2 = v2:add(v2b)
v2 = v2:add(v2b,r)
</code></pre>

<p>Add v2b to v2.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.cross.html">wetgenes.tardis.v2.cross</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L997">lua/wetgenes/tardis.lua#997</a>

<div>

<pre><code>value = v2:cross(v2b)
</code></pre>

<p>Extend to 3d then only return z value as x and y are always 0</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.dot.html">wetgenes.tardis.v2.dot</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L986">lua/wetgenes/tardis.lua#986</a>

<div>

<pre><code>value = v2:dot(v2b)
</code></pre>

<p>Return the dot product of these two vectors.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.identity.html">wetgenes.tardis.v2.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L859">lua/wetgenes/tardis.lua#859</a>

<div>

<pre><code>v2 = v2:identity()
</code></pre>

<p>Set this v2 to all zeros.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.len.html">wetgenes.tardis.v2.len</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L880">lua/wetgenes/tardis.lua#880</a>

<div>

<pre><code>value = v2:len()
</code></pre>

<p>Returns the length of this vector.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.lenlen.html">wetgenes.tardis.v2.lenlen</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L868">lua/wetgenes/tardis.lua#868</a>

<div>

<pre><code>value = v2:lenlen()
</code></pre>

<p>Returns the length of this vector, squared, this is often all you need 
for comparisons so lets us skip the sqrt.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.mul.html">wetgenes.tardis.v2.mul</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L970">lua/wetgenes/tardis.lua#970</a>

<div>

<pre><code>v2 = v2:mul(v2b)
v2 = v2:mul(v2b,r)
</code></pre>

<p>Multiply v2 by v2b.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.new.html">wetgenes.tardis.v2.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L849">lua/wetgenes/tardis.lua#849</a>

<div>

<pre><code>v2 = tardis.v2.new()
</code></pre>

<p>Create a new v2 and optionally set it to the given values, v2 methods 
usually return the input v2 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.normalize.html">wetgenes.tardis.v2.normalize</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L923">lua/wetgenes/tardis.lua#923</a>

<div>

<pre><code>v2 = v2:normalize()
v2 = v2:normalize(r)
</code></pre>

<p>Adjust the length of this vector to 1.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.oo.html">wetgenes.tardis.v2.oo</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L891">lua/wetgenes/tardis.lua#891</a>

<div>

<pre><code>v2 = v2:oo()
v2 = v2:oo(r)
</code></pre>

<p>One Over value. Build the reciprocal of all elements. </p>

<p>If r is provided then the result is written into r and returned 
otherwise v2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.scale.html">wetgenes.tardis.v2.scale</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L907">lua/wetgenes/tardis.lua#907</a>

<div>

<pre><code>v2 = v2:scale(s)
v2 = v2:scale(s,r)
</code></pre>

<p>Scale this v2 by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v2.sub.html">wetgenes.tardis.v2.sub</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L954">lua/wetgenes/tardis.lua#954</a>

<div>

<pre><code>v2 = v2:sub(v2b)
v2 = v2:sub(v2b,r)
</code></pre>

<p>Subtract v2b from v2.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v2 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.html">wetgenes.tardis.v3</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1008">lua/wetgenes/tardis.lua#1008</a>

<div>

<p>The metatable for a 3d vector class, use the new function to actually 
create an object.</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.add.html">wetgenes.tardis.v3.add</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1107">lua/wetgenes/tardis.lua#1107</a>

<div>

<pre><code>v3 = v3:add(v3b)
v3 = v3:add(v3b,r)
</code></pre>

<p>Add v3b to v3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.cross.html">wetgenes.tardis.v3.cross</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1166">lua/wetgenes/tardis.lua#1166</a>

<div>

<pre><code>v2 = v2:dot(v2b)
v2 = v2:dot(v2b,r)
</code></pre>

<p>Return the cross product of these two vectors.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.dot.html">wetgenes.tardis.v3.dot</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1155">lua/wetgenes/tardis.lua#1155</a>

<div>

<pre><code>value = v3:dot(v3b)
</code></pre>

<p>Return the dot product of these two vectors.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.identity.html">wetgenes.tardis.v3.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1028">lua/wetgenes/tardis.lua#1028</a>

<div>

<pre><code>v3 = v3:identity()
</code></pre>

<p>Set this v3 to all zeros.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.len.html">wetgenes.tardis.v3.len</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1049">lua/wetgenes/tardis.lua#1049</a>

<div>

<pre><code>value = v3:len()
</code></pre>

<p>Returns the length of this vector.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.lenlen.html">wetgenes.tardis.v3.lenlen</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1037">lua/wetgenes/tardis.lua#1037</a>

<div>

<pre><code>value = v3:lenlen()
</code></pre>

<p>Returns the length of this vector, squared, this is often all you need 
for comparisons so lets us skip the sqrt.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.mul.html">wetgenes.tardis.v3.mul</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1139">lua/wetgenes/tardis.lua#1139</a>

<div>

<pre><code>v3 = v3:mul(v3b)
v3 = v3:mul(v3b,r)
</code></pre>

<p>Multiply v3 by v3b.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.new.html">wetgenes.tardis.v3.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1018">lua/wetgenes/tardis.lua#1018</a>

<div>

<pre><code>v3 = tardis.v3.new()
</code></pre>

<p>Create a new v3 and optionally set it to the given values, v3 methods 
usually return the input v3 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.normalize.html">wetgenes.tardis.v3.normalize</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1092">lua/wetgenes/tardis.lua#1092</a>

<div>

<pre><code>v3 = v3:normalize()
v3 = v3:normalize(r)
</code></pre>

<p>Adjust the length of this vector to 1.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.oo.html">wetgenes.tardis.v3.oo</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1060">lua/wetgenes/tardis.lua#1060</a>

<div>

<pre><code>v3 = v3:oo()
v3 = v3:oo(r)
</code></pre>

<p>One Over value. Build the reciprocal of all elements. </p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.scale.html">wetgenes.tardis.v3.scale</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1076">lua/wetgenes/tardis.lua#1076</a>

<div>

<pre><code>v3 = v3:scale(s)
v3 = v3:scale(s,r)
</code></pre>

<p>Scale this v3 by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v3.sub.html">wetgenes.tardis.v3.sub</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1123">lua/wetgenes/tardis.lua#1123</a>

<div>

<pre><code>v3 = v3:sub(v3b)
v3 = v3:sub(v3b,r)
</code></pre>

<p>Subtract v3b from v3.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v3 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.html">wetgenes.tardis.v4</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1183">lua/wetgenes/tardis.lua#1183</a>

<div>

<p>The metatable for a 4d vector class, use the new function to actually 
create an object.</p>

<p>We also inherit all the functions from tardis.array</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.add.html">wetgenes.tardis.v4.add</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1299">lua/wetgenes/tardis.lua#1299</a>

<div>

<pre><code>v4 = v4:add(v4b)
v4 = v4:add(v4b,r)
</code></pre>

<p>Add v4b to v4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.dot.html">wetgenes.tardis.v4.dot</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1347">lua/wetgenes/tardis.lua#1347</a>

<div>

<pre><code>value = v4:dot(v4b)
</code></pre>

<p>Return the dot product of these two vectors.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.identity.html">wetgenes.tardis.v4.identity</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1203">lua/wetgenes/tardis.lua#1203</a>

<div>

<pre><code>v4 = v4:identity()
</code></pre>

<p>Set this v4 to all zeros.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.len.html">wetgenes.tardis.v4.len</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1241">lua/wetgenes/tardis.lua#1241</a>

<div>

<pre><code>value = v4:len()
</code></pre>

<p>Returns the length of this vector.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.lenlen.html">wetgenes.tardis.v4.lenlen</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1229">lua/wetgenes/tardis.lua#1229</a>

<div>

<pre><code>value = v4:lenlen()
</code></pre>

<p>Returns the length of this vector, squared, this is often all you need 
for comparisons so lets us skip the sqrt.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.mul.html">wetgenes.tardis.v4.mul</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1331">lua/wetgenes/tardis.lua#1331</a>

<div>

<pre><code>v4 = v4:mul(v4b)
v4 = v4:mul(v4b,r)
</code></pre>

<p>Multiply v4 by v4b.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.new.html">wetgenes.tardis.v4.new</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1193">lua/wetgenes/tardis.lua#1193</a>

<div>

<pre><code>v4 = tardis.v4.new()
</code></pre>

<p>Create a new v4 and optionally set it to the given values, v4 methods 
usually return the input v4 for easy function chaining.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.normalize.html">wetgenes.tardis.v4.normalize</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1284">lua/wetgenes/tardis.lua#1284</a>

<div>

<pre><code>v4 = v4:normalize()
v4 = v4:normalize(r)
</code></pre>

<p>Adjust the length of this vector to 1.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.oo.html">wetgenes.tardis.v4.oo</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1252">lua/wetgenes/tardis.lua#1252</a>

<div>

<pre><code>v4 = v4:oo()
v4 = v4:oo(r)
</code></pre>

<p>One Over value. Build the reciprocal of all elements. </p>

<p>If r is provided then the result is written into r and returned 
otherwise v4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.scale.html">wetgenes.tardis.v4.scale</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1268">lua/wetgenes/tardis.lua#1268</a>

<div>

<pre><code>v4 = v4:scale(s)
v4 = v4:scale(s,r)
</code></pre>

<p>Scale this v4 by s.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.sub.html">wetgenes.tardis.v4.sub</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1315">lua/wetgenes/tardis.lua#1315</a>

<div>

<pre><code>v4 = v4:sub(v4b)
v4 = v4:sub(v4b,r)
</code></pre>

<p>Subtract v4b from v4.</p>

<p>If r is provided then the result is written into r and returned 
otherwise v4 is modified and returned.</p>


</div>

<hr/>

<h1><a href="wetgenes.tardis.v4.to_v3.html">wetgenes.tardis.v4.to_v3</a></h1>

<a class="sourcecode-link" href="https://github.com/xriss/gamecake/blob/master/lua/wetgenes/tardis.lua#L1212">lua/wetgenes/tardis.lua#1212</a>

<div>

<pre><code>v3 = v4:to_v3()
v3 = v4:to_v3(r)
</code></pre>

<p>scale [4] to 1 then throw it away so we have a v3 xyz</p>

<p>If r is provided then the result is written into r and returned 
otherwise a new v3 is created and returned.</p>


</div>

			<a href="#" class="top">Back to top</a>
		</div>
		<div class="index">
			<a href="index.html" class="meca" title="To Docs Cave!"></a>
<ul>
<li>
<a href="wetgenes.html" class="ul-expand" >wetgenes</a>
<ul>
<li>
<a href="wetgenes.chipmunk.html" class="ul-expand" >chipmunk</a>
<ul>
<li>
<a href="wetgenes.chipmunk.arbiter.html" class="ul-expand" >arbiter</a>
<ul>
<li>
<a href="wetgenes.chipmunk.arbiter.ignore.html" class="ul-link" >ignore</a>
</li>
<li>
<a href="wetgenes.chipmunk.arbiter.points.html" class="ul-link" >points</a>
</li>
<li>
<a href="wetgenes.chipmunk.arbiter.surface_velocity.html" class="ul-link" >surface_velocity</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.chipmunk.body.html" class="ul-expand" >body</a>
<ul>
<li>
<a href="wetgenes.chipmunk.body.angle.html" class="ul-link" >angle</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.angular_velocity.html" class="ul-link" >angular_velocity</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.apply_force.html" class="ul-link" >apply_force</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.apply_impulse.html" class="ul-link" >apply_impulse</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.center_of_gravity.html" class="ul-link" >center_of_gravity</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.force.html" class="ul-link" >force</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.mass.html" class="ul-link" >mass</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.moment.html" class="ul-link" >moment</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.position.html" class="ul-link" >position</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.position_func.html" class="ul-link" >position_func</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.shape.html" class="ul-link" >shape</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.torque.html" class="ul-link" >torque</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.type.html" class="ul-link" >type</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.velocity.html" class="ul-link" >velocity</a>
</li>
<li>
<a href="wetgenes.chipmunk.body.velocity_func.html" class="ul-link" >velocity_func</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.chipmunk.constraint.html" class="ul-expand" >constraint</a>
<ul>
<li>
<a href="wetgenes.chipmunk.constraint.collide_bodies.html" class="ul-link" >collide_bodies</a>
</li>
<li>
<a href="wetgenes.chipmunk.constraint.error_bias.html" class="ul-link" >error_bias</a>
</li>
<li>
<a href="wetgenes.chipmunk.constraint.impulse.html" class="ul-link" >impulse</a>
</li>
<li>
<a href="wetgenes.chipmunk.constraint.max_bias.html" class="ul-link" >max_bias</a>
</li>
<li>
<a href="wetgenes.chipmunk.constraint.max_force.html" class="ul-link" >max_force</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.chipmunk.shape.html" class="ul-expand" >shape</a>
<ul>
<li>
<a href="wetgenes.chipmunk.shape.bounding_box.html" class="ul-link" >bounding_box</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.collision_type.html" class="ul-link" >collision_type</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.elasticity.html" class="ul-link" >elasticity</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.filter.html" class="ul-link" >filter</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.friction.html" class="ul-link" >friction</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.query_point.html" class="ul-link" >query_point</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.query_segment.html" class="ul-link" >query_segment</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.radius.html" class="ul-link" >radius</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.sensor.html" class="ul-link" >sensor</a>
</li>
<li>
<a href="wetgenes.chipmunk.shape.surface_velocity.html" class="ul-link" >surface_velocity</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.chipmunk.space.html" class="ul-expand" >space</a>
<ul>
<li>
<a href="wetgenes.chipmunk.space.add.html" class="ul-link" >add</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.add_handler.html" class="ul-link" >add_handler</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.body.html" class="ul-link" >body</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.collision_bias.html" class="ul-link" >collision_bias</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.collision_persistence.html" class="ul-link" >collision_persistence</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.collision_slop.html" class="ul-link" >collision_slop</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.constraint.html" class="ul-link" >constraint</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.contains.html" class="ul-link" >contains</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.current_time_step.html" class="ul-link" >current_time_step</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.damping.html" class="ul-link" >damping</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.gravity.html" class="ul-link" >gravity</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.idle_speed_threshold.html" class="ul-link" >idle_speed_threshold</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.iterations.html" class="ul-link" >iterations</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.locked.html" class="ul-link" >locked</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.query_bounding_box.html" class="ul-link" >query_bounding_box</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.query_point.html" class="ul-link" >query_point</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.query_point_nearest.html" class="ul-link" >query_point_nearest</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.query_segment.html" class="ul-link" >query_segment</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.query_segment_first.html" class="ul-link" >query_segment_first</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.query_shape.html" class="ul-link" >query_shape</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.reindex.html" class="ul-link" >reindex</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.remove.html" class="ul-link" >remove</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.sleep_time_threshold.html" class="ul-link" >sleep_time_threshold</a>
</li>
<li>
<a href="wetgenes.chipmunk.space.step.html" class="ul-link" >step</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="wetgenes.export.html" class="ul-link" >export</a>
</li>
<li>
<a href="wetgenes.gamecake.html" class="ul-expand" >gamecake</a>
<ul>
<li>
<a href="wetgenes.gamecake.fun.html" class="ul-expand" >fun</a>
<ul>
<li>
<a href="wetgenes.gamecake.fun.chatdown.html" class="ul-expand" >chatdown</a>
<ul>
<li>
<a href="wetgenes.gamecake.fun.chatdown.parse.html" class="ul-link" >parse</a>
</li>
<li>
<a href="wetgenes.gamecake.fun.chatdown.setup.html" class="ul-link" >setup</a>
</li>
<li>
<a href="wetgenes.gamecake.fun.chatdown.setup_chat.html" class="ul-link" >setup_chat</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="wetgenes.gamecake.oven.html" class="ul-expand" >oven</a>
<ul>
<li>
<a href="wetgenes.gamecake.oven.bake.html" class="ul-link" >bake</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.gamecake.widgets.html" class="ul-link" >widgets</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.grd.html" class="ul-expand" >grd</a>
<ul>
<li>
<a href="wetgenes.grd.attr_redux.html" class="ul-link" >attr_redux</a>
</li>
<li>
<a href="wetgenes.grd.blit.html" class="ul-link" >blit</a>
</li>
<li>
<a href="wetgenes.grd.clear.html" class="ul-link" >clear</a>
</li>
<li>
<a href="wetgenes.grd.clip.html" class="ul-link" >clip</a>
</li>
<li>
<a href="wetgenes.grd.convert.html" class="ul-link" >convert</a>
</li>
<li>
<a href="wetgenes.grd.copy_data.html" class="ul-link" >copy_data</a>
</li>
<li>
<a href="wetgenes.grd.copy_data_layer.html" class="ul-link" >copy_data_layer</a>
</li>
<li>
<a href="wetgenes.grd.create.html" class="ul-link" >create</a>
</li>
<li>
<a href="wetgenes.grd.create_convert.html" class="ul-link" >create_convert</a>
</li>
<li>
<a href="wetgenes.grd.create_normal.html" class="ul-link" >create_normal</a>
</li>
<li>
<a href="wetgenes.grd.destroy.html" class="ul-link" >destroy</a>
</li>
<li>
<a href="wetgenes.grd.duplicate.html" class="ul-link" >duplicate</a>
</li>
<li>
<a href="wetgenes.grd.flipy.html" class="ul-link" >flipy</a>
</li>
<li>
<a href="wetgenes.grd.info.html" class="ul-link" >info</a>
</li>
<li>
<a href="wetgenes.grd.load.html" class="ul-link" >load</a>
</li>
<li>
<a href="wetgenes.grd.load_data.html" class="ul-link" >load_data</a>
</li>
<li>
<a href="wetgenes.grd.load_file.html" class="ul-link" >load_file</a>
</li>
<li>
<a href="wetgenes.grd.paint.html" class="ul-link" >paint</a>
</li>
<li>
<a href="wetgenes.grd.palette.html" class="ul-link" >palette</a>
</li>
<li>
<a href="wetgenes.grd.pixels.html" class="ul-link" >pixels</a>
</li>
<li>
<a href="wetgenes.grd.quant.html" class="ul-link" >quant</a>
</li>
<li>
<a href="wetgenes.grd.remap.html" class="ul-link" >remap</a>
</li>
<li>
<a href="wetgenes.grd.reset.html" class="ul-link" >reset</a>
</li>
<li>
<a href="wetgenes.grd.resize.html" class="ul-link" >resize</a>
</li>
<li>
<a href="wetgenes.grd.save.html" class="ul-link" >save</a>
</li>
<li>
<a href="wetgenes.grd.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.grd.shrink.html" class="ul-link" >shrink</a>
</li>
<li>
<a href="wetgenes.grd.stream.html" class="ul-link" >stream</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.grdsvg.html" class="ul-expand" >grdsvg</a>
<ul>
<li>
<a href="wetgenes.grdsvg.string.html" class="ul-link" >string</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.json.html" class="ul-expand" >json</a>
<ul>
<li>
<a href="wetgenes.json.decode.html" class="ul-link" >decode</a>
</li>
<li>
<a href="wetgenes.json.encode.html" class="ul-link" >encode</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.lookup.html" class="ul-link" >lookup</a>
</li>
<li>
<a href="wetgenes.package.html" class="ul-expand" >package</a>
<ul>
<li>
<a href="wetgenes.package.reload.html" class="ul-link" >reload</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.plate.html" class="ul-expand" >plate</a>
<ul>
<li>
<a href="wetgenes.plate.replace_lookup.html" class="ul-link" >replace_lookup</a>
</li>
<li>
<a href="wetgenes.plate.replace_lookup_istable.html" class="ul-link" >replace_lookup_istable</a>
</li>
<li>
<a href="wetgenes.plate.table_lookup.html" class="ul-link" >table_lookup</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.safecall.html" class="ul-link" >safecall</a>
</li>
<li>
<a href="wetgenes.safewrap.html" class="ul-link" >safewrap</a>
</li>
<li>
<a href="wetgenes.set_env.html" class="ul-link" >set_env</a>
</li>
<li>
<a href="wetgenes.snippets.html" class="ul-link" >snippets</a>
</li>
<li>
<a href="wetgenes.tardis.html" class="ul-expand" >tardis</a>
<ul>
<li>
<a href="wetgenes.tardis.array.html" class="ul-expand" >array</a>
<ul>
<li>
<a href="wetgenes.tardis.array.__tostring.html" class="ul-link" >__tostring</a>
</li>
<li>
<a href="wetgenes.tardis.array.product.html" class="ul-link" >product</a>
</li>
<li>
<a href="wetgenes.tardis.array.set.html" class="ul-link" >set</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.class.html" class="ul-link" >class</a>
</li>
<li>
<a href="wetgenes.tardis.line.html" class="ul-expand" >line</a>
<ul>
<li>
<a href="wetgenes.tardis.line.new.html" class="ul-link" >new</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.m2.html" class="ul-expand" >m2</a>
<ul>
<li>
<a href="wetgenes.tardis.m2.adjugate.html" class="ul-link" >adjugate</a>
</li>
<li>
<a href="wetgenes.tardis.m2.cofactor.html" class="ul-link" >cofactor</a>
</li>
<li>
<a href="wetgenes.tardis.m2.determinant.html" class="ul-link" >determinant</a>
</li>
<li>
<a href="wetgenes.tardis.m2.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.m2.inverse.html" class="ul-link" >inverse</a>
</li>
<li>
<a href="wetgenes.tardis.m2.minor_xy.html" class="ul-link" >minor_xy</a>
</li>
<li>
<a href="wetgenes.tardis.m2.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.m2.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.tardis.m2.transpose.html" class="ul-link" >transpose</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.m3.html" class="ul-expand" >m3</a>
<ul>
<li>
<a href="wetgenes.tardis.m3.adjugate.html" class="ul-link" >adjugate</a>
</li>
<li>
<a href="wetgenes.tardis.m3.cofactor.html" class="ul-link" >cofactor</a>
</li>
<li>
<a href="wetgenes.tardis.m3.determinant.html" class="ul-link" >determinant</a>
</li>
<li>
<a href="wetgenes.tardis.m3.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.m3.inverse.html" class="ul-link" >inverse</a>
</li>
<li>
<a href="wetgenes.tardis.m3.minor_xy.html" class="ul-link" >minor_xy</a>
</li>
<li>
<a href="wetgenes.tardis.m3.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.m3.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.tardis.m3.transpose.html" class="ul-link" >transpose</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.m4.html" class="ul-expand" >m4</a>
<ul>
<li>
<a href="wetgenes.tardis.m4.add.html" class="ul-link" >add</a>
</li>
<li>
<a href="wetgenes.tardis.m4.adjugate.html" class="ul-link" >adjugate</a>
</li>
<li>
<a href="wetgenes.tardis.m4.cofactor.html" class="ul-link" >cofactor</a>
</li>
<li>
<a href="wetgenes.tardis.m4.determinant.html" class="ul-link" >determinant</a>
</li>
<li>
<a href="wetgenes.tardis.m4.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.m4.inverse.html" class="ul-link" >inverse</a>
</li>
<li>
<a href="wetgenes.tardis.m4.lerp.html" class="ul-link" >lerp</a>
</li>
<li>
<a href="wetgenes.tardis.m4.minor_xy.html" class="ul-link" >minor_xy</a>
</li>
<li>
<a href="wetgenes.tardis.m4.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.m4.rotate.html" class="ul-link" >rotate</a>
</li>
<li>
<a href="wetgenes.tardis.m4.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.tardis.m4.scale_v3.html" class="ul-link" >scale_v3</a>
</li>
<li>
<a href="wetgenes.tardis.m4.setrot.html" class="ul-link" >setrot</a>
</li>
<li>
<a href="wetgenes.tardis.m4.sub.html" class="ul-link" >sub</a>
</li>
<li>
<a href="wetgenes.tardis.m4.translate.html" class="ul-link" >translate</a>
</li>
<li>
<a href="wetgenes.tardis.m4.transpose.html" class="ul-link" >transpose</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.plane.html" class="ul-expand" >plane</a>
<ul>
<li>
<a href="wetgenes.tardis.plane.new.html" class="ul-link" >new</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.q4.html" class="ul-expand" >q4</a>
<ul>
<li>
<a href="wetgenes.tardis.q4.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.q4.lerp.html" class="ul-link" >lerp</a>
</li>
<li>
<a href="wetgenes.tardis.q4.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.q4.rotate.html" class="ul-link" >rotate</a>
</li>
<li>
<a href="wetgenes.tardis.q4.setrot.html" class="ul-link" >setrot</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.type.html" class="ul-link" >type</a>
</li>
<li>
<a href="wetgenes.tardis.v2.html" class="ul-expand" >v2</a>
<ul>
<li>
<a href="wetgenes.tardis.v2.add.html" class="ul-link" >add</a>
</li>
<li>
<a href="wetgenes.tardis.v2.cross.html" class="ul-link" >cross</a>
</li>
<li>
<a href="wetgenes.tardis.v2.dot.html" class="ul-link" >dot</a>
</li>
<li>
<a href="wetgenes.tardis.v2.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.v2.len.html" class="ul-link" >len</a>
</li>
<li>
<a href="wetgenes.tardis.v2.lenlen.html" class="ul-link" >lenlen</a>
</li>
<li>
<a href="wetgenes.tardis.v2.mul.html" class="ul-link" >mul</a>
</li>
<li>
<a href="wetgenes.tardis.v2.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.v2.normalize.html" class="ul-link" >normalize</a>
</li>
<li>
<a href="wetgenes.tardis.v2.oo.html" class="ul-link" >oo</a>
</li>
<li>
<a href="wetgenes.tardis.v2.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.tardis.v2.sub.html" class="ul-link" >sub</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.v3.html" class="ul-expand" >v3</a>
<ul>
<li>
<a href="wetgenes.tardis.v3.add.html" class="ul-link" >add</a>
</li>
<li>
<a href="wetgenes.tardis.v3.cross.html" class="ul-link" >cross</a>
</li>
<li>
<a href="wetgenes.tardis.v3.dot.html" class="ul-link" >dot</a>
</li>
<li>
<a href="wetgenes.tardis.v3.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.v3.len.html" class="ul-link" >len</a>
</li>
<li>
<a href="wetgenes.tardis.v3.lenlen.html" class="ul-link" >lenlen</a>
</li>
<li>
<a href="wetgenes.tardis.v3.mul.html" class="ul-link" >mul</a>
</li>
<li>
<a href="wetgenes.tardis.v3.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.v3.normalize.html" class="ul-link" >normalize</a>
</li>
<li>
<a href="wetgenes.tardis.v3.oo.html" class="ul-link" >oo</a>
</li>
<li>
<a href="wetgenes.tardis.v3.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.tardis.v3.sub.html" class="ul-link" >sub</a>
</li>
</ul>
</li>
<li>
<a href="wetgenes.tardis.v4.html" class="ul-expand" >v4</a>
<ul>
<li>
<a href="wetgenes.tardis.v4.add.html" class="ul-link" >add</a>
</li>
<li>
<a href="wetgenes.tardis.v4.dot.html" class="ul-link" >dot</a>
</li>
<li>
<a href="wetgenes.tardis.v4.identity.html" class="ul-link" >identity</a>
</li>
<li>
<a href="wetgenes.tardis.v4.len.html" class="ul-link" >len</a>
</li>
<li>
<a href="wetgenes.tardis.v4.lenlen.html" class="ul-link" >lenlen</a>
</li>
<li>
<a href="wetgenes.tardis.v4.mul.html" class="ul-link" >mul</a>
</li>
<li>
<a href="wetgenes.tardis.v4.new.html" class="ul-link" >new</a>
</li>
<li>
<a href="wetgenes.tardis.v4.normalize.html" class="ul-link" >normalize</a>
</li>
<li>
<a href="wetgenes.tardis.v4.oo.html" class="ul-link" >oo</a>
</li>
<li>
<a href="wetgenes.tardis.v4.scale.html" class="ul-link" >scale</a>
</li>
<li>
<a href="wetgenes.tardis.v4.sub.html" class="ul-link" >sub</a>
</li>
<li>
<a href="wetgenes.tardis.v4.to_v3.html" class="ul-link" >to_v3</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>		</div>
	</body>
</html>
